import{u as w,a as C,O as K,b as j,d as T,e as F,l as R,W as P,f as W}from"./app-5669dbfb.js";import{r as g,h as H,c as $,A as _,W as ee,Y as te,o as ae,B as le,j as e,Z as G,w as se,a3 as oe,i as ce}from"./framework-c74165a4.js";const ne="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";const I=()=>e(R,{name:"close"},()=>e("path",{d:"m925.468 822.294-303.27-310.288L925.51 201.674c34.683-27.842 38.3-75.802 8.122-107.217-30.135-31.37-82.733-34.259-117.408-6.463L512.001 399.257 207.777 87.993C173.1 60.197 120.504 63.087 90.369 94.456c-30.179 31.415-26.561 79.376 8.122 107.217L401.8 512.005l-303.27 310.29c-34.724 27.82-38.34 75.846-8.117 107.194 30.135 31.437 82.729 34.327 117.408 6.486L512 624.756l304.177 311.22c34.68 27.84 87.272 24.95 117.408-6.487 30.223-31.348 26.56-79.375-8.118-107.195z"}));I.displayName="CloseIcon";const M=()=>e(R,{name:"heading"},()=>e("path",{d:"M250.4 704.6H64V595.4h202.4l26.2-166.6H94V319.6h214.4L352 64h127.8l-43.6 255.4h211.2L691 64h126.2l-43.6 255.4H960v109.2H756.2l-24.6 166.6H930v109.2H717L672 960H545.8l43.6-255.4H376.6L333 960H206.8l43.6-255.4zm168.4-276L394 595.4h211.2l24.6-166.6h-211z"}));M.displayName="HeadingIcon";const S=()=>e(R,{name:"heart"},()=>e("path",{d:"M1024 358.156C1024 195.698 892.3 64 729.844 64c-86.362 0-164.03 37.218-217.844 96.49C458.186 101.218 380.518 64 294.156 64 131.698 64 0 195.698 0 358.156 0 444.518 37.218 522.186 96.49 576H96l320 320c32 32 64 64 96 64s64-32 96-64l320-320h-.49c59.272-53.814 96.49-131.482 96.49-217.844zM841.468 481.232 517.49 805.49a2981.962 2981.962 0 0 1-5.49 5.48c-1.96-1.95-3.814-3.802-5.49-5.48L182.532 481.234C147.366 449.306 128 405.596 128 358.156 128 266.538 202.538 192 294.156 192c47.44 0 91.15 19.366 123.076 54.532L512 350.912l94.768-104.378C638.696 211.366 682.404 192 729.844 192 821.462 192 896 266.538 896 358.156c0 47.44-19.368 91.15-54.532 123.076z"}));S.displayName="HeartIcon";const q=()=>e(R,{name:"history"},()=>e("path",{d:"M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zm0-896a384 384 0 1 0 384 384 384 384 0 0 0-384-384zm192 448H512a64 64 0 0 1-64-64V320a64 64 0 0 1 128 0v128h128a64 64 0 0 1 0 128z"}));q.displayName="HistoryIcon";const Q=()=>e(R,{name:"title"},()=>e("path",{d:"M512 256c70.656 0 134.656 28.672 180.992 75.008A254.933 254.933 0 0 1 768 512c0 83.968-41.024 157.888-103.488 204.48C688.96 748.736 704 788.48 704 832c0 105.984-86.016 192-192 192-106.048 0-192-86.016-192-192h128a64 64 0 1 0 128 0 64 64 0 0 0-64-64 255.19 255.19 0 0 1-181.056-75.008A255.403 255.403 0 0 1 256 512c0-83.968 41.024-157.824 103.488-204.544C335.04 275.264 320 235.584 320 192A192 192 0 0 1 512 0c105.984 0 192 85.952 192 192H576a64.021 64.021 0 0 0-128 0c0 35.328 28.672 64 64 64zM384 512c0 70.656 57.344 128 128 128s128-57.344 128-128-57.344-128-128-128-128 57.344-128 128z"}));Q.displayName="TitleIcon";const re={},ue=300,Y=5,ie={"/":{cancel:"取消",placeholder:"搜索",search:"搜索",select:"选择",navigate:"切换",exit:"关闭",history:"搜索历史",emptyHistory:"无搜索历史",emptyResult:"没有找到结果",loading:"正在加载搜索索引..."}},ve="search-pro-history-results",m=w(ve,[]),de=()=>({history:m,addHistory:a=>{m.value.length<Y?m.value=[a,...m.value]:m.value=[a,...m.value.slice(0,Y-1)]},removeHistory:a=>{m.value=[...m.value.slice(0,a),...m.value.slice(a+1)]}}),he=g(ne),pe=H(()=>JSON.parse(P(he.value))),f=(a,v)=>{const d=a.toLowerCase(),l=v.toLowerCase(),c=[];let s=0,i=0;const h=(t,p=!1)=>{let o="";i===0?o=t.length>20?`… ${t.slice(-20)}`:t:p?o=t.length+i>100?`${t.slice(0,100-i)}… `:t:o=t.length>20?`${t.slice(0,20)} … ${t.slice(-20)}`:t,o&&c.push(o),i+=o.length,p||(c.push(["strong",v]),i+=v.length,i>=100&&c.push(" …"))};let y=d.indexOf(l,s);if(y===-1)return null;for(;y>=0;){const t=y+l.length;if(h(a.slice(s,y)),s=t,i>100)break;y=d.indexOf(l,s)}return i<100&&h(a.slice(s),!0),c},A=a=>a.reduce((v,{type:d})=>v+(d==="title"?50:d==="heading"?20:d==="custom"?10:1),0),ye=(a,v)=>{var d;const l={};for(const[c,s]of Object.entries(v)){const i=((d=v[c.replace(/\/[^\\]*$/,"")])==null?void 0:d.title)||"",h=`${i?`${i} > `:""}${s.title}`,y=f(s.title,a);y&&(l[h]=[...l[h]||[],{type:"title",path:c,display:y}]),s.customFields&&Object.entries(s.customFields).forEach(([t,p])=>{p.forEach(o=>{const n=f(o,a);n&&(l[h]=[...l[h]||[],{type:"custom",path:c,index:t,display:n}])})});for(const t of s.contents){const p=f(t.header,a);p&&(l[h]=[...l[h]||[],{type:"heading",path:c+(t.slug?`#${t.slug}`:""),display:p}]);for(const o of t.contents){const n=f(o,a);n&&(l[h]=[...l[h]||[],{type:"content",header:t.header,path:c+(t.slug?`#${t.slug}`:""),display:n}])}}}return Object.keys(l).sort((c,s)=>A(l[c])-A(l[s])).map(c=>({title:c,contents:l[c]}))},ke=a=>{const v=C(),d=g([]),l=H(()=>pe.value[v.value]),c=W(s=>{d.value=s?ye(s,l.value):[]},ue);return se([a,v],()=>{c(a.value)}),d};var ge=$({name:"SearchResult",props:{query:{type:String,required:!0}},emits:{close:()=>!0,updateQuery:a=>!0},setup(a,{emit:v}){const d=_(),l=ee(),c=C(),s=K(ie),{history:i,addHistory:h,removeHistory:y}=de(),t=te(a,"query"),p=ke(t),o=g(0),n=g(0),L=g(),z=H(()=>p.value.length>0),B=H(()=>p.value[o.value]||null),U=()=>{o.value=o.value>0?o.value-1:p.value.length-1,n.value=B.value.contents.length-1},J=()=>{o.value=o.value<p.value.length-1?o.value+1:0,n.value=0},X=()=>{n.value<B.value.contents.length-1?n.value=n.value+1:J()},x=()=>{n.value>0?n.value=n.value-1:U()},O=r=>r.map(u=>ce(u)?u:e(u[0],u[1])),E=r=>{if(r.type==="custom"){const u=re[r.index]||"$content",[D,Z=""]=oe(u)?u[c.value].split("$content"):u.split("$content");return O([D,...r.display,Z])}return O(r.display)},N=()=>{o.value=0,n.value=0,v("updateQuery",""),v("close")};return ae(()=>{j("keydown",r=>{if(z.value){if(r.key==="ArrowUp")x();else if(r.key==="ArrowDown")X();else if(r.key==="Enter"){const u=B.value.contents[n.value];l.path!==u.path&&(h(u),d.push(u.path),N())}}}),T(L.value,{reserveScrollBarGap:!0})}),le(()=>{F()}),()=>e("div",{class:["search-pro-result",{empty:t.value===""?i.value.length===0:!z.value}],ref:L},t.value===""?i.value.length?e("ul",{class:"search-pro-result-list"},e("li",{class:"search-pro-result-list-item"},[e("div",{class:"search-pro-result-title"},s.value.history),i.value.map((r,u)=>e(G,{to:r.path,class:["search-pro-result-item",{active:n.value===u}],onClick:()=>{console.log("click"),N()}},()=>[e(q,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[r.type==="content"&&r.header?e("div",{class:"content-header"},r.header):null,e("div",E(r))]),e("button",{class:"search-pro-close-icon",onClick:D=>{D.preventDefault(),D.stopPropagation(),y(u)}},e(I))]))])):s.value.emptyHistory:z.value?e("ul",{class:"search-pro-result-list"},p.value.map(({title:r,contents:u},D)=>{const Z=o.value===D;return e("li",{class:["search-pro-result-list-item",{active:Z}]},[e("div",{class:"search-pro-result-title"},r||"Documentation"),u.map((k,V)=>{const b=Z&&n.value===V;return e(G,{to:k.path,class:["search-pro-result-item",{active:b,"aria-selected":b}],onClick:()=>{h(k),N()}},()=>[k.type==="content"?null:e(k.type==="title"?Q:k.type==="heading"?M:S,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[k.type==="content"&&k.header?e("div",{class:"content-header"},k.header):null,e("div",E(k))])])})])})):s.value.emptyResult)}});export{ge as default};
